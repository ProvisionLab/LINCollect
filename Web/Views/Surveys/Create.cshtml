@model Web.Data.Survey

@{
    ViewBag.Title = "Create";
}

<h2>Survey - Create</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    <div class="form-horizontal">
        <input type="hidden" value="false" name="isNext" id="isNext" />
        @Html.HiddenFor(model => model.UserId)
        <div class="form-group">
            <span class="control-label col-md-2">* Survey Name</span>
            <div class="col-md-10">
                @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <span class="control-label col-md-2">* Language</span>
            <div class="col-md-10">
                @Html.DropDownList("LanguageId", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.LanguageId, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <span class="control-label col-md-2">* Mailing list</span>
            <div class="col-md-10">
                <div class="row">
                    <div class="col-xs-10">
                        @Html.DropDownList("SurveyFileId", null, htmlAttributes: new { @class = "form-control" })
                    </div>
                    <div class="col-xs-2">
                        <input type="button" class="btn btn-block" value="Manage" onclick="javascript: void(0);" />
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group">
            <span class="control-label col-md-2">Banner File</span>
            <div class="col-md-10">
                <div class="row">
                    <div class="col-xs-10">
                        @Html.EditorFor(model => model.Banner, new { htmlAttributes = new { @class = "form-control", type = "file" } })
                    </div>
                    <div class="col-xs-2">
                        <input type="button" class="btn btn-block" value="Clear" onclick="javascript:document.getElementById('Banner').value = ''" />
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group">
            <span class="control-label col-md-2">Survey introduction (optional)</span>
            <div class="col-md-10">
                <textarea rows="3" class="form-control ckeditor" name="Introduction" id="Introduction">@Model.Introduction</textarea>
            </div>
        </div>

        <div class="form-group">
            <span class="control-label col-md-2">Thank you text (optional)</span>
            <div class="col-md-10">
                <textarea rows="3" class="form-control ckeditor" name="Thanks" id="Thanks">@Model.Thanks</textarea>
            </div>
        </div>

        <div class="form-group">
            <span class="control-label col-md-2">Landing page text</span>
            <div class="col-md-10">
                <textarea rows="3" class="form-control ckeditor" name="Landing" id="Landing">@Model.Landing</textarea>
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10 text-right">
                @Html.ActionLink("Cancel", "Index", null, new { @class = "btn btn-default" })
                <input type="submit" value="Save" class="btn btn-default" />
                <input type="submit" value="Save/Next Step" class="btn btn-default" onclick="setNext()" />
            </div>
        </div>
    </div>
}

<script>
    function isNext() {
        $('#isNext').val('true'); return true;
    }
</script>
@section Scripts {
    <script>
        function setNext() {
            $('#isNext').val('true'); return true;
        };
    </script>

}
