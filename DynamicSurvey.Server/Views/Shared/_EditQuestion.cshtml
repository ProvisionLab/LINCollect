@using DynamicSurvey.Server.ViewModels
@model DynamicSurvey.Server.ViewModels.Surveys.EditQuestionViewModel

<div id="editQuestionModal" class="modal fade">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                <h4 class="modal-title">
                    @if (Model.Id == null)
                    {
                        <text>Add Question</text>
                    }
                    else
                    {
                        <text>Edit Question</text>
                    }
                </h4>
            </div>
            <div class="modal-body">
                <div class="portlet light bordered form-fit">
                    <div class="portlet-body form">
                        <form action="@Url.Action("EditQuestion", "Surveys")" method="POST" class="form-horizontal form-row-seperated">
                            <div class="form-body">
                                <div class="form-group">
                                    <label class="control-label col-md-3">Question: <span class="required">*</span></label>
                                    <div class="col-md-9">
                                        <textarea name="Question" id="question" class="form-control" rows="4"></textarea>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-3">Short Name: <span class="required">*</span></label>
                                    <div class="col-md-9">
                                        <input name="ShortName" id="shortName" type="text" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-3">Properties:</label>
                                    <div class="col-md-9">
                                        <div class="checkbox-list">
                                            <label class="checkbox-inline">
                                                <input name="Compulsory" type="checkbox" value="true" />
                                                <input name="Compulsory" type="hidden" value="false" />
                                                Compulsory
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-3">Format: <span class="required">*</span></label>
                                    <div class="col-md-9">
                                        <div class="radio-list">
                                            <label class="radio-inline">
                                                <input name="Format" type="radio" value="@QuestionFormat.Text" />
                                                Text
                                            </label>
                                            <label class="radio-inline">
                                                <input name="Format" type="radio" value="@QuestionFormat.ChoiceAccross" />
                                                Choice Across
                                            </label>
                                            <label class="radio-inline">
                                                <input name="Format" type="radio" value="@QuestionFormat.ChoiceDown" />
                                                Choice Down
                                            </label>
                                            <label class="radio-inline">
                                                <input name="Format" type="radio" value="@QuestionFormat.DropDown" />
                                                Drop Down
                                            </label>
                                            <label class="radio-inline">
                                                <input name="Format" type="radio" value="@QuestionFormat.Matrix" />
                                                Matrix
                                            </label>
                                            <label class="radio-inline">
                                                <input name="Format" type="radio" value="@QuestionFormat.Slider" />
                                                Slider
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="question-format-container" id="textQuestionFormatContainer">
                                    <div class="form-group">
                                        <label class="control-label col-md-3">Rows: <span class="required">*</span></label>
                                        <div class="col-md-9">
                                            <input name="Rows" id="rows" type="text" class="form-control" value="@Model.Rows" />
                                        </div>
                                    </div>
                                </div>
                                <div class="question-format-container" id="choiceQuestionFormatContainer">
                                    <div class="form-group">
                                        <div class="col-md-offset-3 col-md-9">
                                            @for (var i = 0; i < Model.AnswerChoiceItemViewModels.Count; i++)
                                            {
                                                <div class="row space-between-row">
                                                    <div class="col-md-4">
                                                        <input name="AnswerChoiceItemViewModels[@i].Text" type="text" class="form-control" />
                                                    </div>
                                                    <div class="col-md-4">
                                                        <input name="AnswerChoiceItemViewModels[@i].Coding" type="text" class="form-control" />
                                                    </div>
                                                    <div class="col-md-1">
                                                        <div class="checkbox-list">
                                                            <label class="checkbox-inline">
                                                                <input name="AnswerChoiceItemViewModels[@i].IsDefault" type="checkbox" value="true" />
                                                                <input name="AnswerChoiceItemViewModels[@i].IsDefault" type="hidden" value="false" />
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <a href="javascript:;" class="btn btn-icon-only green">
                                                            <i class="fa fa-arrow-up">
                                                            </i>
                                                        </a>
                                                        <a href="javascript:;" class="btn btn-icon-only green">
                                                            <i class="fa fa-arrow-down">
                                                            </i>
                                                        </a>
                                                        <a href="javascript:;" class="btn btn-icon-only red">
                                                            <i class="fa fa-remove">
                                                            </i>
                                                        </a>
                                                    </div>
                                                </div>
                                            }
                                        </div>
                                    </div>
                                </div>
                                <div class="question-format-container" id="matrixQuestionFormatContainer">
                                </div>
                                <div class="question-format-container" id="sliderQuestionFormatContainer">
                                </div>
                            </div>
                            <div class="form-actions right">
                                <button type="button" class="btn default" data-dismiss="modal">Cancel</button>
                                <button type="submit" class="btn green">
                                    @if (Model.Id == null)
                                    {
                                        <text>Add Question</text>
                                    }
                                    else
                                    {
                                        <text>Edit Question</text>
                                    }
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>